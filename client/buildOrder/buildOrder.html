<template name="buildOrder">
  <div class="card-panel component-card">
    {{#if isReady "buildOrder"}}
      {{#if buildOrder}}
      {{else}}
        nothing to see here
      {{/if}}
    {{else}}
      {{> loading}}
      {{> hideFooter}}
    {{/if}}
    {{#with buildOrder}}
      <div class="row">
        <div class="col s12">
          <div class="bo-tool-row row">
            <div class="col s12">
              {{> buildOrderListed}}
            </div>
          </div>
        </div>
        <div class="col s12">
          <div class="row">
            <div class="col s12">
              {{this.description}}
            </div>
          </div>
        </div>
        <div class="col s12">
          <div class="row">
            <div class="col s12">
              <table class="bo-table">
                <tbody>
                {{#each steps}}
                  <tr>
                    <td class="bold center">{{this.supply}}</td><td class="td-action">{{this.action}}</td>
                  </tr>
                {{/each}}
                </tbody>
              </table>
            </div>
          </div>
        </div>
        <div class="col s12">
          <div class="row">
            <div class="col s12">
              {{this.appendix}}
            </div>
          </div>
        </div>
        {{#if replaysExist}}
          <div class="col s12">
            <div class="row">
              <div class="col s12">
                <h5>Replays</h5>
              </div>
              {{#each this.replays}}
                <div class="col l4 m6 s12">
                  <div class="card-panel">
                    <h5>{{this.title}}</h5>
                    <div class="bo-link">Link: <a href="{{this.link}}">{{this.link}}</a></div>
                    <div>{{this.description}}</div>
                  </div>
                </div>
              {{/each}}
            </div>
          </div>
        {{/if}}

        {{#if videosExist}}
          <div class="col s12">
            <div class="row">
              <div class="col s12">
                <h5>Videos</h5>
              </div>
              {{#each this.videos}}
                <div class="col l6 s12">
                  <div class="card-panel">
                    <h5>{{this.title}}</h5>
                    <div class="video-container no-controls">
                      <iframe src="{{getYoutubeLink}}" frameborder="0" allowfullscreen></iframe>
                    </div>
                    <div>{{this.description}}</div>
                  </div>
                </div>
              {{/each}}
            </div>
          </div>
        {{/if}}
      </div>
    {{/with}}
  </div>
</template>
